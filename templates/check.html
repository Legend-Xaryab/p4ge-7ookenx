{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold text-center mb-4">Check Token Validity</h1>

<form method="post" class="flex flex-col gap-4">
  <textarea name="tokens" placeholder="Enter one or more tokens (1 per line)" 
            class="border p-2 rounded-lg h-40" required></textarea>
  <button type="submit" class="bg-green-600 text-white p-2 rounded-lg hover:scale-105 transition">Check</button>
</form>

{% if results %}
  <h2 class="text-xl font-semibold mt-6">Results:</h2>
  <ul class="mt-2 space-y-2">
    {% for r in results %}
      <li class="p-3 border rounded-lg {% if r.status == 'valid' %}bg-green-100{% else %}bg-red-100{% endif %}">
        <strong>{{ r.token[:25] }}... </strong><br>
        {% if r.status == "valid" %}
          ✅ Valid — User: {{ r.user }}
        {% else %}
          ❌ Invalid — {{ r.error }}
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}
{% endblock %}
